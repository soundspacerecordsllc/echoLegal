/**
 * Guard test: public/robots.txt must NOT exist.
 *
 * The robots.txt route is generated by app/robots.ts (Next.js Metadata API).
 * A static public/robots.txt would shadow it and serve stale content.
 *
 * Run: node --test scripts/test-no-static-robots.mjs
 */

import { describe, it } from 'node:test'
import assert from 'node:assert/strict'
import { existsSync } from 'node:fs'
import { join } from 'node:path'

describe('No static robots.txt', () => {
  it('public/robots.txt must not exist (app/robots.ts generates it)', () => {
    const staticRobots = join(process.cwd(), 'public', 'robots.txt')
    assert.equal(
      existsSync(staticRobots),
      false,
      'public/robots.txt exists â€” delete it. The robots.txt route is generated by app/robots.ts.'
    )
  })
})
